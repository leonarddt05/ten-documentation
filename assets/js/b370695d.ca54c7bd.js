"use strict";(self.webpackChunkobscuro_docs=self.webpackChunkobscuro_docs||[]).push([[1846],{3603:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var n=s(5893),a=s(1151);const i={sidebar_position:3},o="Hosted Gateway",r={id:"tools-infrastructure/hosted-gateway",title:"Hosted Gateway",description:"The Ten Gateway is a critical application that facilitates communication between an Ten node and various tools that require a connection to it, such as MetaMask. Due to the encryption of data within an Ten node, direct communication is not feasible.",source:"@site/docs/tools-infrastructure/hosted-gateway.md",sourceDirName:"tools-infrastructure",slug:"/tools-infrastructure/hosted-gateway",permalink:"/docs/tools-infrastructure/hosted-gateway",draft:!1,unlisted:!1,editUrl:"https://github.com/obscuronet/obscuro-documentation/blob/main/docs/tools-infrastructure/hosted-gateway.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Ten Faucet",permalink:"/docs/tools-infrastructure/obscuro-faucet"},next:{title:"Gateway Widget",permalink:"/docs/tools-infrastructure/gateway-widget"}},d={},c=[{value:"Workflow",id:"workflow",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"GET /join",id:"get-join",level:3},{value:"POST /authenticate?u=$UserId",id:"post-authenticateuuserid",level:3},{value:"GET /query/address?u=$UserId&amp;a=$Address",id:"get-queryaddressuuseridaaddress",level:3},{value:"GET /revoke?u=$UserId",id:"get-revokeuuserid",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"hosted-gateway",children:"Hosted Gateway"}),"\n",(0,n.jsx)(t.p,{children:"The Ten Gateway is a critical application that facilitates communication between an Ten node and various tools that require a connection to it, such as MetaMask. Due to the encryption of data within an Ten node, direct communication is not feasible."}),"\n",(0,n.jsxs)(t.p,{children:["The program conforms to the Ethereum JSON-RPC specification (",(0,n.jsx)(t.a,{href:"https://playground.open-rpc.org/?schemaUrl=https://raw.githubusercontent.com/ethereum/eth1.0-apis/assembled-spec/openrpc.json",children:"Ethereum JSON-RPC Specification"}),") and also supports additional APIs to ensure compatibility with popular tools like MetaMask."]}),"\n",(0,n.jsx)(t.p,{children:"You have the flexibility to host the Ten Gateway yourself or use one of the hosted gateways if you choose to join Ten. You also have the option to run and use the program independently. The diagram below illustrates different usage scenarios, with Bob and Charlie using the hosted version and Alice managing it independently."}),"\n",(0,n.jsx)(t.h2,{id:"workflow",children:"Workflow"}),"\n",(0,n.jsx)(t.p,{children:"The onboarding process is straightforward and requires only a few clicks:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:'The user navigates to a website where a hosted Ten Gateway is running and clicks on "Join Ten." This action will add a network to their wallet.'}),"\n",(0,n.jsx)(t.li,{children:"The user then connects their wallet and switches to the Ten network, if they have not done so already."}),"\n",(0,n.jsx)(t.li,{children:'In the wallet popup, the user is prompted to sign over a message: "Register $UserId for $ACCT."'}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,n.jsx)(t.h3,{id:"get-join",children:"GET /join"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint generates a key-pair, saves it in the database, derives a UserId from the keys, and returns the UserId."}),"\n",(0,n.jsx)(t.h3,{id:"post-authenticateuuserid",children:"POST /authenticate?u=$UserId"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint enables the addition of multiple addresses for each UserId. Prior to saving, it performs several checks on the message, signature, and UserId."}),"\n",(0,n.jsx)(t.p,{children:"Here's an example of the POST request body for the /authenticate endpoint:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "address": "0xEF1C76228AeaDE07B74eA4a749d02f539cCff16a",\n    "message": "Register 0x5038511c45b22e59ec9487c97923c5b4088d1d9a00dd7cbe081dd18c86ae6b2c for 0xef1c76228aeade07b74ea4a749d02f539ccff16a",\n    "signature": "0x781699d25d62ebaa3cc0901ac1fd9fda4e7e3b143bee854b262434e3e22021d1607b5680924ac439dec9838344d6785100c7043312cec07b7fd1e9d26983f69f1b"\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"Typically, a JavaScript function initiates this call."}),"\n",(0,n.jsx)(t.h3,{id:"get-queryaddressuuseridaaddress",children:"GET /query/address?u=$UserId&a=$Address"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint returns a boolean value (true or false) based on whether the given address is registered with the provided UserId."}),"\n",(0,n.jsx)(t.h3,{id:"get-revokeuuserid",children:"GET /revoke?u=$UserId"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint facilitates the removal of a certain UserId's access by deleting the key-pair from the database. This is particularly useful when a user wishes to revoke access for a specific UserId."})]})}function h(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>r,a:()=>o});var n=s(7294);const a={},i=n.createContext(a);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);